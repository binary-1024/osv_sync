{"schema_version":"1.7.3","id":"CVE-2024-34704","published":"2024-05-13T19:13:27Z","modified":"2025-10-21T02:35:35Z","aliases":["GHSA-22pj-7cvw-r3gc"],"summary":"era-compiler-solidity contains a `xor(zext(cmp), -1)` misoptimization","details":"era-compiler-solidity is the ZKsync compiler for Solidity.  The problem occurred during instruction selection in the `DAGCombine` phase while visiting the XOR operation. The issue arises when attempting to fold the expression `!(x cc y)` into `(x !cc y)`. To perform this transformation, the second operand of XOR should be a constant representing the true value. However, it was incorrectly assumed that -1 represents the true value, when in fact, 1 is the correct representation, so this transformation for this case should be skipped. This vulnerability is fixed in 1.4.1.","affected":[{"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2024-34704.json","unresolved_versions":[{"events":[{"introduced":"1.2.0"},{"last_affected":"1.4.0"}],"type":""}]}}],"references":[{"type":"ADVISORY","url":"https://github.com/matter-labs/era-compiler-solidity/security/advisories/GHSA-22pj-7cvw-r3gc"}],"severity":[{"type":"CVSS_V3","score":"CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:H/A:N"}]}